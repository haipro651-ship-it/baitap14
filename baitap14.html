<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>B√†i t·∫≠p 14 - Memory Card Flip Game</title>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, Helvetica, sans-serif;
    }

    body {
      background: linear-gradient(135deg, #0f172a, #1e293b);
      color: white;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      padding: 30px 15px;
    }

    main {
      width: 100%;
      max-width: 900px;
    }

    header {
      text-align: center;
      margin-bottom: 25px;
    }

    header h1 {
      font-size: 28px;
      margin-bottom: 10px;
    }

    header p {
      color: #cbd5e1;
      font-size: 16px;
    }

    .info {
      margin-top: 15px;
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
    }

    .badge {
      background: rgba(255,255,255,0.08);
      padding: 10px 18px;
      border-radius: 12px;
      font-size: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .badge span {
      font-weight: bold;
      color: #38bdf8;
    }

    .btn-reset {
      background: #38bdf8;
      border: none;
      padding: 10px 18px;
      border-radius: 12px;
      cursor: pointer;
      font-weight: bold;
      transition: 0.2s;
    }

    .btn-reset:hover {
      background: #0ea5e9;
      transform: scale(1.05);
    }

    /* GRID GAME */
    .game-board {
      margin-top: 30px;
      display: grid;
      gap: 15px;
      grid-template-columns: repeat(4, 1fr);
    }

    /* responsive: mobile 2 columns */
    @media (max-width: 600px) {
      .game-board {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    /* CARD */
    .card {
      width: 100%;
      aspect-ratio: 1 / 1;
      perspective: 1000px;
      cursor: pointer;
    }

    .card-inner {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.6s;
    }

    .card.flipped .card-inner {
      transform: rotateY(180deg);
    }

    .card-face {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 45px;
      font-weight: bold;
      backface-visibility: hidden;
      box-shadow: 0 8px 15px rgba(0,0,0,0.3);
      user-select: none;
    }

    .card-front {
      background: rgba(255,255,255,0.08);
      border: 2px solid rgba(255,255,255,0.12);
    }

    .card-front:hover {
      transform: scale(1.03);
      transition: 0.2s;
    }

    .card-back {
      background: linear-gradient(135deg, #38bdf8, #6366f1);
      transform: rotateY(180deg);
    }

    .card.matched {
      pointer-events: none;
      opacity: 0.7;
    }

    /* WIN MESSAGE */
    .win-message {
      margin-top: 25px;
      text-align: center;
      font-size: 20px;
      font-weight: bold;
      color: #22c55e;
      display: none;
    }

    footer {
      margin-top: 25px;
      text-align: center;
      color: #94a3b8;
      font-size: 14px;
    }
  </style>
</head>

<body>
  <main>
    <header>
      <h1>üé¥ Memory Card Flip Game</h1>
      <p>B√†i t·∫≠p 14 - Game gh√©p ƒë√¥i th·∫ª (4 c·∫∑p / 8 th·∫ª)</p>

      <div class="info">
        <div class="badge">Moves: <span id="moves">0</span></div>
        <div class="badge">Matched: <span id="matched">0</span>/4</div>
        <button class="btn-reset" onclick="resetGame()">üîÑ Reset Game</button>
      </div>
    </header>

    <section class="game-board" id="gameBoard">
      <!-- cards will be generated by JS -->
    </section>

    <div class="win-message" id="winMessage">
      üéâ B·∫°n ƒë√£ th·∫Øng! Gh√©p ƒë√∫ng t·∫•t c·∫£ c·∫∑p th·∫ª!
    </div>

    <footer>
      Made by Ng·ªçc H·∫£i | LTW - B√†i t·∫≠p 14
    </footer>
  </main>

  <script>
    const gameBoard = document.getElementById("gameBoard");
    const movesText = document.getElementById("moves");
    const matchedText = document.getElementById("matched");
    const winMessage = document.getElementById("winMessage");

    let cardsData = ["üçé", "üçé", "üéÆ", "üéÆ", "üê±", "üê±", "‚öΩ", "‚öΩ"];
    let firstCard = null;
    let secondCard = null;
    let lockBoard = false;
    let moves = 0;
    let matchedPairs = 0;

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function createCard(icon) {
      const card = document.createElement("div");
      card.classList.add("card");
      card.dataset.icon = icon;

      card.innerHTML = `
        <div class="card-inner">
          <div class="card-face card-front">?</div>
          <div class="card-face card-back">${icon}</div>
        </div>
      `;

      card.addEventListener("click", () => flipCard(card));
      return card;
    }

    function renderBoard() {
      gameBoard.innerHTML = "";
      shuffle(cardsData);

      cardsData.forEach(icon => {
        const cardElement = createCard(icon);
        gameBoard.appendChild(cardElement);
      });
    }

    function flipCard(card) {
      if (lockBoard) return;
      if (card === firstCard) return;

      card.classList.add("flipped");

      if (!firstCard) {
        firstCard = card;
        return;
      }

      secondCard = card;
      moves++;
      movesText.textContent = moves;

      checkMatch();
    }

    function checkMatch() {
      const isMatch = firstCard.dataset.icon === secondCard.dataset.icon;

      if (isMatch) {
        firstCard.classList.add("matched");
        secondCard.classList.add("matched");

        matchedPairs++;
        matchedText.textContent = matchedPairs;

        resetTurn();

        if (matchedPairs === 4) {
          winMessage.style.display = "block";
        }
      } else {
        lockBoard = true;

        setTimeout(() => {
          firstCard.classList.remove("flipped");
          secondCard.classList.remove("flipped");
          resetTurn();
        }, 900);
      }
    }

    function resetTurn() {
      firstCard = null;
      secondCard = null;
      lockBoard = false;
    }

    function resetGame() {
      moves = 0;
      matchedPairs = 0;
      movesText.textContent = moves;
      matchedText.textContent = matchedPairs;
      winMessage.style.display = "none";

      firstCard = null;
      secondCard = null;
      lockBoard = false;

      renderBoard();
    }

    // start game
    renderBoard();
  </script>
</body>
</html>
